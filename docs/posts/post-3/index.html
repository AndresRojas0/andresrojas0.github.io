<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="title" content="AAI|IAA Arise with AI|IA para aprender">
    <meta name="description" content="This AAI|IAA page shares the experience of a AI user.">
    <meta name="robots" content="index, follow" />
    <title>Aplicación - Carga Pedidos v1</title>
    <link rel="stylesheet" href="/css/styles.css">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
</head>
<body>
  <header>
    <h1>AAI | IAA</h1>
    <nav>
        <a href="/">Inicio</a>
        <a href="/pages/about">Acerca</a>
        <a href="/pages/contact">Contacto</a>
    </nav>
</header>

  <main>
    
<div class="article-with-sidebar">
  
  
  
  <div id="toc-bar" class="invisible">
    <span class="label">Aplicación - Carga Pedidos v1</span>
    <button type="button" class="toc-trigger">
      ☰
    </button>
  </div>

  
  <button id="toc-solo-trigger" type="button" class="toc-trigger">
    <span class="label">Índice</span>
    <span>→</span>
  </button>

  
  <dialog id="toc-popup">
    <div class="header">
      <div class="label">Aplicación - Carga Pedidos v1</div>
      <button id="toc-popup-close" type="button">
        ✕
      </button>
    </div>
    <div id="toc-popup-content">
      
    </div>
  </dialog>

  
  
  <aside id="toc-wrapper">
    <h2>Índice</h2>
    <nav>
      
    </nav>
  </aside>

  
  
  <article>
    
      <img src="/images/order.svg" alt="Aplicación - Carga Pedidos v1">
    

    <h1>Aplicación - Carga Pedidos v1</h1>
    
    
      <time class="post-date" datetime="Wed Jul 23 2025 20:07:00 GMT-0300 (hora estándar de Argentina)">Wed Jul 23 2025 20:07:00 GMT-0300 (hora estándar de Argentina)</time>
    

    <h2>Introducción</h2>
<h3>Narrativa del caso</h3>
<p>Un vendedor lleva una cartera de clientes de rubros ferretería, general y otros. Diariamente recibe pedidos de clientes los cuales consisten en: número de cliente, datos del cliente, detalle listando productos (título y descripción) con sus cantidades.
Semanalmente los días miércoles el vendedor cierra los pedidos y ya no pueden modificarse, al mismo tiempo inicia otra semana de nuevos pedidos (de miércoles a miércoles). El origen de los productos es el stock y otros son pedidos a proveedores. Para cerrar el ciclo pedido-entrega-cobro se genera un remito con los productos que van a ser entregados, sus precios al cliente y la fecha probable de entrega del remito-pedido. Si los productos del remito-pedido abarcan exactamente los del pedido se marca con estado cerrado-completo, si los productos del remito-pedido abarcan cada uno de los productos pero no alcanzan en sus cantidades se marca con estado cerrado-limitado y si los productos del remito-pedido no cubren todos los productos del pedido se marca con estado cerrado-incompleto. En cada caso se deberá regitrar en pedidos-faltantes la diferencia entre el remito y su pedido relacionado (remito-pedido).
El vendedor es responsable de crear, leer, modificar y eliminar las categorías codificadas de productos, las imágenes codificadas de productos, los proveedores codificados de productos, y los productos codificados los cuales deberán admitir subida masiva desde planilla de cálculo excel.</p>
<h2>Parte I</h2>
<h3>Estructura de datos</h3>
<p>Se inicia una conversación con <strong>ChatGPT</strong>. La instrucción dada es:</p>
<blockquote>
<p>Necesito una estructura de datos JSON a partir de esta información:
Tabla CLIENTE = cliente_id + nombre + domicilio + teléfono + CUIL
Tabla PRODUCTO = articulo_numero + producto_codigo + descripción + unidad_medida + proveedor_id
Tabla PROVEEDOR = proveedor_id + proveedor_nombre
Tabla PEDIDO = pedido_id + articulo_numero + producto_codigo + cantidad + cliente_id
Una regla de negocio es que los productos se identifican por articulo_numero y producto_codigo, los cuales provienen de otro sistema y son cargados manualmente.
Un CLIENTE puede realizar uno o mas pedidos durante la misma semana.
Un PEDIDO tiene uno y solo un CLIENTE, pero contiene minimo un PRODUCTO.</p>
</blockquote>
<blockquote>
<p>Necesito una estructura para REPORTE_PEDIDOS que sea una lista de todos los pedidos hasta una fecha límite de cierre, por ejemplo todos los miércoles a las 11hs AM UTC-3.</p>
</blockquote>
<blockquote>
<p>Necesito una estructura para REPORTE_PRODUCTOS que sea una lista de todos los productos de los pedidos reportados en REPORTE_PEDIDOS hasta la misma fecha límite de cierre, con la cantidad total de cada uno de dichos productos.</p>
</blockquote>
<p>La respuesta obtenida:</p>
<pre><code>{
  &quot;fecha_corte&quot;: &quot;2025-07-23T11:00:00-03:00&quot;,
  &quot;pedidos&quot;: [
    {
      &quot;pedido_id&quot;: 101,
      &quot;cliente&quot;: {
        &quot;cliente_id&quot;: 1,
        &quot;nombre&quot;: &quot;Juan Pérez&quot;,
        &quot;domicilio&quot;: &quot;Calle Falsa 123&quot;,
        &quot;telefono&quot;: &quot;123456789&quot;,
        &quot;CUIL&quot;: &quot;20-12345678-9&quot;
      },
      &quot;productos&quot;: [
        {
          &quot;articulo_numero&quot;: 5001,
          &quot;producto_codigo&quot;: &quot;A-1001&quot;,
          &quot;descripcion&quot;: &quot;Caja de tornillos&quot;,
          &quot;unidad_medida&quot;: &quot;unidad&quot;,
          &quot;cantidad&quot;: 5,
          &quot;proveedor&quot;: {
            &quot;proveedor_id&quot;: 10,
            &quot;proveedor_nombre&quot;: &quot;Acme S.A.&quot;
          }
        },
        {
          &quot;articulo_numero&quot;: 5002,
          &quot;producto_codigo&quot;: &quot;A-1002&quot;,
          &quot;descripcion&quot;: &quot;Llave inglesa&quot;,
          &quot;unidad_medida&quot;: &quot;unidad&quot;,
          &quot;cantidad&quot;: 2,
          &quot;proveedor&quot;: {
            &quot;proveedor_id&quot;: 11,
            &quot;proveedor_nombre&quot;: &quot;Herramientas SRL&quot;
          }
        }
      ]
    },
    {
      &quot;pedido_id&quot;: 102,
      &quot;cliente&quot;: {
        &quot;cliente_id&quot;: 2,
        &quot;nombre&quot;: &quot;María Gómez&quot;,
        &quot;domicilio&quot;: &quot;Av. Siempre Viva 742&quot;,
        &quot;telefono&quot;: &quot;987654321&quot;,
        &quot;CUIL&quot;: &quot;27-87654321-0&quot;
      },
      &quot;productos&quot;: [
        {
          &quot;articulo_numero&quot;: 5001,
          &quot;producto_codigo&quot;: &quot;A-1001&quot;,
          &quot;descripcion&quot;: &quot;Caja de tornillos&quot;,
          &quot;unidad_medida&quot;: &quot;unidad&quot;,
          &quot;cantidad&quot;: 10,
          &quot;proveedor&quot;: {
            &quot;proveedor_id&quot;: 10,
            &quot;proveedor_nombre&quot;: &quot;Acme S.A.&quot;
          }
        }
      ]
    }
  ]
}
{
  &quot;fecha_corte&quot;: &quot;2025-07-23T11:00:00-03:00&quot;,
  &quot;productos&quot;: [
    {
      &quot;articulo_numero&quot;: 5001,
      &quot;producto_codigo&quot;: &quot;A-1001&quot;,
      &quot;descripcion&quot;: &quot;Caja de tornillos&quot;,
      &quot;unidad_medida&quot;: &quot;unidad&quot;,
      &quot;cantidad_total&quot;: 15,
      &quot;proveedor&quot;: {
        &quot;proveedor_id&quot;: 10,
        &quot;proveedor_nombre&quot;: &quot;Acme S.A.&quot;
      }
    },
    {
      &quot;articulo_numero&quot;: 5002,
      &quot;producto_codigo&quot;: &quot;A-1002&quot;,
      &quot;descripcion&quot;: &quot;Llave inglesa&quot;,
      &quot;unidad_medida&quot;: &quot;unidad&quot;,
      &quot;cantidad_total&quot;: 2,
      &quot;proveedor&quot;: {
        &quot;proveedor_id&quot;: 11,
        &quot;proveedor_nombre&quot;: &quot;Herramientas SRL&quot;
      }
    }
  ]
}
</code></pre>
<h2>Parte II</h2>
<h3>Creando con IA</h3>
<p>Se inicia una conversación con <strong>V0</strong>. Las instrucciones o <em>prompts</em> enviados son:</p>
<blockquote>
<p>Hola! Puedes hacer una aplicación web mobile first para: crear y modificar listas de productos desde archivo excel o manualmente, crear y actualizar lista de clientes, registrar y modificar pedidos de clientes, y generar reportes semanales usando como referencia la estructura de datos adjunta. Los reportes deberán ser almacenados y podrán consultarse en listados ordenados por fecha desde el más reciente hacia el menos reciente, ordenando también los pedidos.</p>
</blockquote>
<p><img src="/images/sistema-gestion-pedidos-inicio.svg" alt="Inicio de la aplicación" title="Una vista del inicio de la aplicación"></p>
<blockquote>
<p>Además, al subir un archivo excel para crear o modificar la lista de productos, que sepa interpretar: un campo &quot;Nº Artículo&quot; o &quot;Art.&quot; es equivalente a &quot;Artículo&quot; y se corresponde con el atributo &quot;articulo_numero&quot;, un campo &quot;Desc&quot; o &quot;Descripcion&quot; o &quot;Descripciom&quot; es equivalente a &quot;Descripción&quot; y se corresponde con el atributo &quot;descripcion&quot;, un campo &quot;Cod&quot; o &quot;Codigo&quot; es equivalente a &quot;Código&quot; y se corresponde con el atributo &quot;producto_codigo&quot;.</p>
</blockquote>
<blockquote>
<p>Si en el documento excel no se encuentra un campo, por ejemplo Codigo Producto, completar el atributo &quot;producto_codigo&quot; con espacio en blanco.</p>
</blockquote>
<blockquote>
<p>Todos los productos en cuya descripción contenga la palabra &quot;CABLE&quot; o &quot;cable&quot; su atributo &quot;unidad_medida&quot; debe ser igual a &quot;metros&quot;.</p>
</blockquote>
<blockquote>
<p>Otros campos que se encuentren en el documento excel no serán tenidos en cuenta para llenar la lista de productos.</p>
</blockquote>
<p><img src="/images/sistema-gestion-pedidos-importarproductos.svg" alt="Importar Productos" title="Sección Importar Productos desde planilla de cálculos"></p>
<p>Adjuntar la estructura obtenida en ChatGPT. También se le pide una base de datos para almacenar toda la información, y una barra de navegación simple y responsiva.</p>
<p>Se le pide que muestre reportes:</p>
<blockquote>
<p>Necesito un Reporte Semanal de Productos que contenga la totalidad de los productos pedidos con sus número de artículo y su descripción, la cantidad total de cada uno de ellos, ordenados por número artículo, separados por su proveedor con nombre de cada proveedor. Pedidos debe tener un atributo &quot;fecha_pedido&quot;. Necesito un Reporte Semanal de Pedidos con los pedidos ordenados por su fecha, el nombre cliente y la lista de productos y cantidades en cada pedido.</p>
</blockquote>
<blockquote>
<p>Dentro de Reportes de Pedidos, necesito que se pueda leer el pedido completo de cada cliente, con todos sus productos. En Pedidos, al modificar o eliminar un Pedido, debe impactar y generar automaticamente los nuevos Reportes (General, de Productos y de Pedidos), modificando los valores de los pedidos o eliminandolos segun sea el caso.Crear el reporte en formato excel para descargar desde la flecha de descarga dentro de cada uno de los Reportes, usando la flecha del extremo superior derecho de los mismos.</p>
</blockquote>
<blockquote>
<p>Todos los días miércoles a las 10:59AM necesito generar automáticamente el reporte general, el reporte de produtos por proveedor y el reporte de pedidos, en base a todos los pedidos generados desde las 11:00AM del miércoles anterior.
Conserva las funcionalidades y botones actuales para generar reportes parciales.
Todo pedido podrá ser modificado hasta que se cierre el reporte (ya sea cierre automático de miércoles 10:59AM o al generar reporte parcial desde el botón).
Todo pedido incluido en un reporte generado, no deberá volver a incluirse en el reporte siguiente.</p>
</blockquote>

  </article>
</div>

  </main>
  <hr class="fleuron" />

<footer>
    <p>Arise with IA | IA para Aprender &copy; 2025</p>
</footer>


  
  
  <script>
  (function() {
    'use strict';
    
    // ============================================
    // 1. Scroll Header Shrink Effect (OPTIMIZADO)
    // ============================================
    const header = document.querySelector('header');
    let ticking = false;
    
    window.addEventListener('scroll', function() {
      if (!ticking) {
        window.requestAnimationFrame(function() {
          header.classList.toggle('shrink', window.scrollY > 50);
          ticking = false;
        });
        ticking = true;
      }
    });
    
    // ============================================
    // 2. Format Dates in Spanish
    // ============================================
    function formatDates() {
      const timeElements = document.querySelectorAll('time.post-date');
      const meses = [
        'enero', 'febrero', 'marzo', 'abril', 'mayo', 'junio',
        'julio', 'agosto', 'septiembre', 'octubre', 'noviembre', 'diciembre'
      ];
      
      timeElements.forEach(function(timeEl) {
        const dateStr = timeEl.textContent.trim();
        const date = new Date(dateStr);
        
        if (!isNaN(date.getTime())) {
          const day = date.getDate();
          const month = meses[date.getMonth()];
          const year = date.getFullYear();
          
          timeEl.textContent = day + ' de ' + month + ' de ' + year;
          timeEl.setAttribute('datetime', dateStr);
        }
      });
    }
    
    // ============================================
    // 3. Table of Contents (TOC) - OPTIMIZADO
    // ============================================
    function initTableOfContents() {
      // Buscar artículo
      const article = document.querySelector('article');
      if (!article) return;
      
      // Buscar encabezados (h2, h3, h4)
      const headings = article.querySelectorAll('h2, h3, h4');
      if (headings.length === 0) {
        // Ocultar elementos del TOC si no hay encabezados
        const tocElements = document.querySelectorAll('#toc-bar, #toc-solo-trigger, #toc-wrapper');
        tocElements.forEach(el => el && (el.style.display = 'none'));
        return;
      }
      
      // Generar HTML del índice
      let html = '<ol>';
      headings.forEach(function(heading, index) {
        // Generar ID si no existe
        if (!heading.id) {
          const text = heading.textContent.trim();
          const slug = text
            .toLowerCase()
            .normalize('NFD')
            .replace(/[\u0300-\u036f]/g, '')
            .replace(/[^a-z0-9\s]+/g, '')
            .replace(/\s+/g, '-')
            .replace(/^-+|-+$/g, '');
          heading.id = slug || 'seccion-' + (index + 1);
        }
        
        // Indentación según nivel
        const level = parseInt(heading.tagName[1]);
        const style = level === 3 ? ' style="padding-left: 1.5em"' : 
                     level === 4 ? ' style="padding-left: 3em"' : '';
        
        html += '<li' + style + '><a href="#' + heading.id + '">' + 
                heading.textContent.trim() + '</a></li>';
      });
      html += '</ol>';
      
      // Insertar en popup (mobile)
      const popupContent = document.getElementById('toc-popup-content');
      if (popupContent) popupContent.innerHTML = html;
      
      // Insertar en sidebar (desktop)
      const tocWrapper = document.getElementById('toc-wrapper');
      if (tocWrapper) {
        let nav = tocWrapper.querySelector('nav');
        if (!nav) {
          nav = document.createElement('nav');
          tocWrapper.appendChild(nav);
        }
        nav.innerHTML = html;
      }
      
      // Configurar popup modal
      const popup = document.getElementById('toc-popup');
      const triggers = document.querySelectorAll('.toc-trigger');
      const btnClose = document.getElementById('toc-popup-close');
      
      if (popup && triggers.length > 0) {
        // Función para cerrar popup con animación
        function closePopup() {
          popup.setAttribute('closing', '');
          popup.addEventListener('animationend', function handleAnimationEnd() {
            popup.removeAttribute('closing');
            popup.close();
            document.documentElement.classList.remove('overflow-hidden');
            document.body.classList.remove('overflow-hidden');
            popup.removeEventListener('animationend', handleAnimationEnd);
          });
        }
        
        // Abrir popup (OPTIMIZADO)
        triggers.forEach(function(trigger) {
          trigger.addEventListener('click', function(e) {
            e.preventDefault();
            e.stopPropagation();
            document.documentElement.classList.add('overflow-hidden');
            document.body.classList.add('overflow-hidden');
            popup.showModal();
          });
        });
        
        // Cerrar popup (FIX)
        if (btnClose) {
          btnClose.addEventListener('click', function(e) {
            e.preventDefault();
            e.stopPropagation();
            closePopup();
          });
        }
        
        // Click en backdrop (SIMPLIFICADO)
        popup.addEventListener('click', function(e) {
          if (e.target === popup) {
            closePopup();
          }
        });
        
        // ESC key
        popup.addEventListener('cancel', function(e) {
          e.preventDefault();
          closePopup();
        });
        
        // Manejar resize (cerrar popup en desktop)
        window.addEventListener('resize', function() {
          if (window.innerWidth >= 1200 && popup.open) {
            popup.close();
            document.documentElement.classList.remove('overflow-hidden');
            document.body.classList.remove('overflow-hidden');
          }
        });
      }
      
      // Botón flotante con IntersectionObserver
      const tocBar = document.getElementById('toc-bar');
      const soloTrigger = document.getElementById('toc-solo-trigger');
      
      if (tocBar && soloTrigger) {
        const observer = new IntersectionObserver(
          function(entries) {
            entries.forEach(function(entry) {
              tocBar.classList.toggle('invisible', entry.isIntersecting);
            });
          },
          { rootMargin: '-48px 0px 0px 0px' }
        );
        observer.observe(soloTrigger);
      }
      
      // Smooth scroll y scroll spy
      const tocLinks = document.querySelectorAll('#toc-popup-content a, #toc-wrapper a');
      const linkMap = new Map();
      
      // Crear mapa de IDs a enlaces
      tocLinks.forEach(function(link) {
        const href = link.getAttribute('href');
        if (href && href.startsWith('#')) {
          const id = href.substring(1);
          if (!linkMap.has(id)) {
            linkMap.set(id, []);
          }
          linkMap.get(id).push(link);
          
          // Smooth scroll
          link.addEventListener('click', function(e) {
            e.preventDefault();
            const target = document.getElementById(id);
            if (target) {
              const offset = 100;
              const targetPosition = target.getBoundingClientRect().top + 
                                   window.pageYOffset - offset;
              window.scrollTo({
                top: targetPosition,
                behavior: 'smooth'
              });
              history.pushState(null, null, '#' + id);
              if (popup && popup.open) {
                closePopup();
              }
            }
          });
        }
      });
      
      // Scroll spy con IntersectionObserver
      const scrollObserver = new IntersectionObserver(function(entries) {
        entries.forEach(function(entry) {
          if (entry.isIntersecting) {
            const id = entry.target.id;
            
            // Remover clase active de todos
            tocLinks.forEach(function(link) {
              link.classList.remove('active');
            });
            
            // Agregar clase active a los enlaces correspondientes
            const activeLinks = linkMap.get(id);
            if (activeLinks) {
              activeLinks.forEach(function(link) {
                link.classList.add('active');
              });
            }
          }
        });
      }, {
        rootMargin: '-100px 0px -66%',
        threshold: 0
      });
      
      // Observar todos los encabezados
      headings.forEach(function(heading) {
        if (heading.id) {
          scrollObserver.observe(heading);
        }
      });
    }
    
    // ============================================
    // Inicialización
    // ============================================
    function init() {
      formatDates();
      initTableOfContents();
    }
    
    // Ejecutar cuando el DOM esté listo
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', init);
    } else {
      init();
    }
    
  })();
  </script>

</body>
</html>
